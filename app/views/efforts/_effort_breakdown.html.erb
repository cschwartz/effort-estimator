<div>
  <%= render Layout::BreadcrumbsComponent.new(@project, "Effort Breakdown") %>
  <div class="effort-breakdown">
    <%= render Layout::PageHeaderComponent.new("Effort Breakdown") do |c| %>
      <% c.with_action do %>
        <%= render Actions::CreateActionComponent.new(href: new_project_effort_path(@project), label: "Add Root Effort", turbo_frame: "effort-sidebar") %>
      <% end %>
    <% end %>
    <div class="grid grid-cols-12 gap-6 h-screen">
      <div class="col-span-6 p-4 overflow-y-auto">
        <h3 class="text-lg font-semibold mb-4">Effort Structure</h3>
        <%= turbo_frame_tag "effort-tree" do %>
          <%= render partial: "effort_tree", locals: { efforts: efforts } %>
        <% end %>
      </div>
      <div class="col-span-6 p-4">
        <%= turbo_frame_tag "effort-sidebar" do %>
          <% if is_edit %>
            <%= render "form" %>
          <% elsif effort %>
            <%= render effort %>
          <% else %>
            <%= render partial: "empty_sidebar" %>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
